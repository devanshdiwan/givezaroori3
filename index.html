<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GiveZRoori - Donate Items Effortlessly</title>
    <!-- Link Google Fonts (Poppins) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- CSS Reset & Base Styles --- */
        :root {
            --primary-blue: #1a3a6d; /* Sampled from logo text/hand */
            --accent-green: #2a9d8f; /* Approximated from gradient start */
            --accent-orange: #e76f51; /* Approximated from gradient end */
            --gradient-start: #26a69a; /* Tealish green */
            --gradient-mid: #fbc02d;  /* Yellowish */
            --gradient-end: #e65100; /* Orangey-red */
            --light-bg: #f8f9fa;
            --white: #ffffff;
            --text-dark: #333333;
            --text-light: #555555;
            --border-color: #dee2e6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: var(--white);
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        h1, h2, h3, h4 {
            color: var(--primary-blue);
            margin-bottom: 0.8em;
            line-height: 1.3;
        }

        h1 { font-size: 2.8rem; }
        h2 { font-size: 2rem; text-align: center; margin-bottom: 1.5em; }
        h3 { font-size: 1.4rem; }
        h4 { font-size: 1.1rem; margin-bottom: 0.5em;}

        p {
            margin-bottom: 1em;
            color: var(--text-light);
        }

        a {
            text-decoration: none;
            color: var(--accent-orange);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        ul, ol {
            list-style: none;
            padding-left: 0;
        }

        section {
            padding: 60px 0;
            display: block;
        }

        /* --- Initially Hide About Section --- */
        section#about {
            display: none;
        }


        /* --- Header & Navigation --- */
        .main-header {
            background-color: var(--white);
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .main-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            margin-right: 10px;
        }

        .logo-text {
             font-size: 1.5rem;
             font-weight: 700;
             color: var(--primary-blue);
        }

        .main-nav ul {
            display: flex;
            gap: 25px;
        }

        .main-nav a {
            color: var(--primary-blue);
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .main-nav a:hover,
        .main-nav a.active {
            color: var(--accent-orange);
        }

        /* --- Mobile Menu --- */
        .menu-toggle {
            display: none;
            font-size: 1.8rem;
            background: none;
            border: none;
            color: var(--primary-blue);
            cursor: pointer;
        }

        /* --- Buttons --- */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            text-align: center;
        }
        .btn:disabled {
             background-color: #cccccc;
             cursor: not-allowed;
             transform: none;
        }


        .btn-primary {
            background-color: var(--accent-orange);
            color: var(--white);
        }

        .btn-primary:hover:not(:disabled) {
            background-color: #d85a3d;
            transform: translateY(-2px);
        }


        .btn-secondary {
            background-color: transparent;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover:not(:disabled) {
            background-color: var(--primary-blue);
            color: var(--white);
            transform: translateY(-2px);
        }
         .btn-secondary:disabled {
              background-color: #e9ecef;
              border-color: #adb5bd;
              color: #adb5bd;
         }

        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
        }

        /* --- Hero Section --- */
        #hero {
            background: linear-gradient(135deg, rgba(42, 157, 143, 0.1), rgba(231, 111, 81, 0.1)), var(--white);
            padding: 80px 0;
            text-align: center;
        }

        #hero h1 {
            color: var(--primary-blue);
            margin-bottom: 0.5em;
        }

        #hero .subtext {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 700px;
            margin: 0 auto 1.5em auto;
        }

        #hero .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        /* --- About Us Section Styles --- */
        #about {
            background-color: var(--white);
        }
        #about h3 {
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            text-align: left;
            border-bottom: 2px solid var(--accent-green);
            padding-bottom: 5px;
            display: inline-block;
        }
         #about .about-intro p {
             font-size: 1.1rem;
             max-width: 900px;
             margin-left: 0;
             margin-right: 0;
             text-align: left;
             margin-bottom: 1.5em;
        }
        #about > .container > p {
            max-width: 900px;
            text-align: left;
            color: var(--text-light);
        }


        #about .how-it-works-recap ol {
            list-style: decimal;
            margin-left: 20px;
            margin-bottom: 1.5em;
        }
         #about .how-it-works-recap li {
              margin-bottom: 0.5em;
              color: var(--text-light);
         }
         #about .how-it-works-recap p {
             text-align: left;
             font-weight: 600;
             color: var(--primary-blue);
             margin-top: -0.5em;
         }

        .values-list {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
             gap: 25px;
             margin-top: 1em;
        }
         .values-list li {
             background-color: var(--light-bg);
             padding: 20px;
             border-radius: 5px;
             border-left: 4px solid var(--accent-orange);
         }
         .values-list strong {
             color: var(--primary-blue);
             font-weight: 700;
         }

        .founders-grid {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
             gap: 30px;
             margin-top: 1em;
             margin-bottom: 1em;
        }
        .founder-card {
            text-align: center;
            background-color: var(--white);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border: 1px solid var(--border-color);
        }
         .founder-card .founder-img {
             width: 120px;
             height: 120px;
             border-radius: 50%;
             background-color: var(--border-color);
             margin: 0 auto 15px auto;
             display: flex;
             align-items: center;
             justify-content: center;
             color: var(--text-light);
             font-size: 0.9rem;
             background-size: cover;
             background-position: center;
         }
         .founder-card h4 {
             color: var(--primary-blue);
             margin-bottom: 5px;
         }
         .founder-card .founder-title {
             font-weight: 600;
             color: var(--accent-green);
             margin-bottom: 10px;
             display: block;
         }
         .founder-card p {
             font-size: 0.95rem;
             text-align: center;
         }

        .join-movement {
             text-align: left;
        }
        .join-movement p {
            color: var(--text-light);
            font-size: 1.1rem;
            max-width: 900px;
        }

        /* --- How It Works Section --- */
        #how-it-works {
            background-color: var(--light-bg);
        }

        .steps-container {
            display: flex;
            justify-content: space-around;
            text-align: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .step {
            flex-basis: 30%;
            min-width: 250px;
            padding: 20px;
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border-top: 4px solid var(--accent-green);
        }

        .step .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            border-radius: 50%;
            background-color: var(--accent-green);
            color: var(--white);
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
         /* Color adjustments for steps */
         .step:nth-child(1) { border-top-color: var(--accent-green); }
         .step:nth-child(1) .step-number { background-color: var(--accent-green); }
         .step:nth-child(2) { border-top-color: #fbc02d; }
         .step:nth-child(2) .step-number { background-color: #fbc02d; }
         .step:nth-child(3) { border-top-color: var(--accent-orange); }
         .step:nth-child(3) .step-number { background-color: var(--accent-orange); }

        .step h3 {
            color: var(--primary-blue);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        /* --- Donate Page Specific Styles --- */
        .donate-page-section {}
        .donate-page-section h2 { margin-bottom: 1.5em; }
        .donate-options-container { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; margin-bottom: 40px; }
        .donate-option-card { flex: 1; min-width: 300px; max-width: 450px; background-color: var(--light-bg); padding: 30px; border-radius: 8px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border: 1px solid var(--border-color); transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; justify-content: space-between; }
        .donate-option-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        .donate-option-icon { font-size: 3rem; margin-bottom: 15px; line-height: 1; }
        .donate-option-card h3 { color: var(--primary-blue); margin-bottom: 10px; }
        .donate-option-card p { margin-bottom: 20px; color: var(--text-light); flex-grow: 1; }
        .item-category-container h4, .donation-form-container h3, #donate-money-form-container h4 { text-align: center; color: var(--primary-blue); margin-bottom: 20px; }
        .item-category-buttons { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
        .item-category-btn { padding: 15px 25px; background-color: var(--white); border: 2px solid var(--accent-green); color: var(--accent-green); border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; }
        .item-category-btn .icon { font-size: 1.2em; }
        .item-category-btn:hover, .item-category-btn.active { background-color: var(--accent-green); color: var(--white); }
        .donation-form-container { background-color: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); border: 1px solid var(--border-color); text-align: left; margin-top: 20px; }
        .donation-form .form-group { margin-bottom: 20px; }
        .donation-form label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--primary-blue); }
        .donation-form input[type="text"], .donation-form input[type="email"], .donation-form input[type="tel"], .donation-form input[type="number"], .donation-form input[type="date"], .donation-form input[type="time"], .donation-form select, .donation-form textarea { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 4px; font-size: 1rem; font-family: inherit; transition: border-color 0.3s ease; }
        .donation-form input[style*="border: 1px solid red"],
        .donation-form select[style*="border: 1px solid red"],
        .donation-form textarea[style*="border: 1px solid red"] {
             border-color: red !important;
        }
        .donation-form .radio-group[style*="border: 1px solid red"],
        .donation-form .checkbox-group[style*="border: 1px solid red"] {
             border: 1px solid red; padding: 5px; margin: -5px; border-radius: 4px;
        }
        .donation-form input:focus, .donation-form select:focus, .donation-form textarea:focus { border-color: var(--primary-blue); outline: none; }
        .donation-form textarea { resize: vertical; min-height: 80px; }
        .donation-form .radio-group label, .donation-form .checkbox-group label { display: inline-block; margin-right: 20px; margin-bottom: 5px; font-weight: 400; color: var(--text-dark); cursor: pointer; vertical-align: middle; }
        .donation-form .radio-group input[type="radio"], .donation-form .checkbox-group input[type="checkbox"] { margin-right: 5px; vertical-align: middle; }
        .donation-form .amount-options .radio-group { margin-bottom: 10px; }
        .pickup-dropoff-form { margin-top: 25px; padding-top: 20px; border-top: 1px dashed var(--border-color); }
        .pickup-dropoff-form h4 { font-size: 1.1rem; color: var(--primary-blue); margin-bottom: 15px; }
        .confirmation-message h3 { color: var(--accent-green); margin-bottom: 15px; }
        .confirmation-message p { color: var(--text-dark); font-size: 1.1rem; margin-bottom: 10px; }
        .confirmation-message strong { color: var(--primary-blue); }
        .confirmation-message div { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }

        /* --- Featured NGOs Section --- */
        #featured-ngos { background-color: var(--light-bg); }
        .ngo-grid {
             display: grid;
             grid-template-columns: minmax(280px, 1fr);
             gap: 30px;
             margin-top: 30px;
             justify-content: center;
             max-width: 600px;
             margin-left: auto;
             margin-right: auto;
        }
        .ngo-card { background-color: var(--white); border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .ngo-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        .ngo-card img {
            width: 100%; height: 200px; object-fit: contain; padding: 10px; background-color: #fff;
        }
        .ngo-card-content { padding: 20px; }
        .ngo-card h3 { margin-bottom: 10px; }
        .ngo-card .ngo-cause { display: inline-block; background-color: var(--light-bg); color: var(--primary-blue); padding: 3px 10px; border-radius: 15px; font-size: 0.8rem; margin-bottom: 10px; }

        /* --- Why GiveZRoori Section --- */
        #why-us { background-color: var(--white); }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; text-align: center; }
        .feature-item { padding: 20px; }
        .feature-item .icon { font-size: 2.5rem; color: var(--accent-green); margin-bottom: 15px; }
        .feature-item h3 { font-size: 1.2rem; color: var(--primary-blue); }

        /* --- Testimonials Section --- */
        #testimonials { background-color: var(--light-bg); }
        .testimonial-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .testimonial-card { background-color: var(--white); padding: 25px; border-radius: 8px; border-left: 5px solid var(--primary-blue); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .testimonial-card blockquote { font-style: italic; margin-bottom: 15px; color: var(--text-light); position: relative; padding-left: 25px; }
        .testimonial-card blockquote::before { content: '‚Äú'; position: absolute; left: 0; top: -10px; font-size: 2.5rem; color: var(--primary-blue); opacity: 0.3; }
        .testimonial-author { display: flex; align-items: center; }
        .testimonial-author img { width: 50px; height: 50px; border-radius: 50%; margin-right: 15px; object-fit: cover; }
        .testimonial-author cite { font-weight: 600; color: var(--primary-blue); }

        /* --- Footer (Updated Colors) --- */
        .main-footer {
            background-color: var(--primary-blue);
            color: #e0e0e0; /* Softer text */
            padding: 40px 0 20px 0;
            margin-top: 60px;
        }
        .footer-content {
            display: flex; justify-content: space-between; flex-wrap: wrap; gap: 30px; margin-bottom: 30px;
        }
        .footer-section h4 {
            color: var(--white); margin-bottom: 15px; font-size: 1.1rem;
        }
         .footer-section p {
             color: #e0e0e0; /* Match default footer text */
         }
        .footer-section ul li { margin-bottom: 8px; }
        .footer-section ul li a {
            color: #80cbc4; /* Lighter teal */
            transition: color 0.3s ease;
        }
        .footer-section ul li a:hover {
            color: var(--accent-orange); /* Orange hover */
        }
        .footer-bottom {
            text-align: center; padding-top: 20px; border-top: 1px solid #4a6a9d; font-size: 0.9rem; color: #b0bec5; /* Lighter blue-grey */
        }
        .footer-socials a {
            color: var(--white); margin: 0 8px; font-size: 1.3rem; transition: color 0.3s ease;
        }
        .footer-socials a:hover { color: var(--accent-orange); }

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; } h2 { font-size: 1.8rem; } h3 { font-size: 1.3rem; }
            .main-header .container { position: relative; }
            .menu-toggle { display: block; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); }
            .main-nav { display: none; position: absolute; top: 100%; left: 0; width: 100%; background-color: var(--white); box-shadow: 0 5px 10px rgba(0,0,0,0.1); border-top: 1px solid var(--border-color); }
            .main-nav.active { display: block; }
            .main-nav ul { flex-direction: column; padding: 20px; gap: 0; }
            .main-nav ul li { text-align: center; padding: 10px 0; border-bottom: 1px solid var(--light-bg); }
            .main-nav ul li:last-child { border-bottom: none; }
            #hero .cta-buttons { flex-direction: column; align-items: center; }
            .btn { width: 80%; max-width: 300px;}
            .steps-container { flex-direction: column; align-items: center; }
            .step { flex-basis: 80%; }
            #about .about-intro p, #about > .container > p, #about .join-movement p { font-size: 1rem; max-width: 100%; }
            #about h3 { margin-top: 1.5em; }
            .footer-content { flex-direction: column; text-align: center; } .footer-section { margin-bottom: 20px;}
            .donate-options-container { flex-direction: column; align-items: center; } .donate-option-card { width: 90%; max-width: 500px; }
            .item-category-buttons { flex-direction: column; align-items: stretch; }
            .confirmation-message div { flex-direction: column; align-items: center; } .confirmation-message .btn { width: 80%; max-width: 300px; }
             .ngo-grid { max-width: 90%; }
             .ngo-card img { height: 150px; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="main-header">
        <div class="container">
             <div class="logo">
                <img src="givezroori_logo.png" alt="GiveZRoori Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <span class="logo-text" style="display: none;">GiveZRoori</span>
             </div>
            <button class="menu-toggle" id="menu-toggle" aria-label="Toggle navigation">‚ò∞</button>
            <nav class="main-nav" id="main-nav">
                <ul>
                    <li><a href="#hero" class="nav-link homepage-link active">Home</a></li>
                    <li><a href="#about" class="nav-link about-us-link">About Us</a></li>
                    <li><a href="#how-it-works" class="nav-link homepage-link">How It Works</a></li>
                    <li><a href="#featured-ngos" class="nav-link homepage-link">Featured NGO</a></li>
                    <li><a href="#donate-page" class="nav-link homepage-link">Donate</a></li>
                     <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>

        <!-- Hero Section -->
        <section id="hero" class="main-content-section">
           <div class="container">
                <h1>Donate Items to the Right People. Effortlessly.</h1>
                <p class="subtext">GiveZRoori connects your unused items to trusted NGOs in need, making giving simple and impactful.</p>
                <div class="cta-buttons">
                    <a href="#donate-page" class="btn btn-primary homepage-link">Donate Now</a>
                    <a href="#featured-ngos" class="btn btn-secondary homepage-link">Featured NGO</a>
                </div>
            </div>
        </section>

        <!-- About Us Section (Initially Hidden by CSS) -->
        <section id="about" class="about-section">
            <div class="container">
                <h2>About GiveZRoori</h2>
                <h3>Who We Are</h3>
                <div class="about-intro">
                     <p>GiveZRoori is a purpose-driven platform that connects generous individuals with NGOs in need. We‚Äôre here to make donating everyday essentials‚Äîlike clothes, books, toys, or gadgets‚Äîeasier, more transparent, and truly impactful.</p>
                </div>
                <h3>Our Mission</h3>
                <p>To bridge the gap between kindness and need. We aim to create a reliable system where your unused or extra items can bring real change to someone‚Äôs life.</p>
                <h3>Why We Exist</h3>
                <p>Every home has something extra‚Äîsomething someone else desperately needs. We noticed how difficult it is to find trustworthy channels to donate items, and that‚Äôs where GiveZRoori comes in‚Äîto simplify and systematize the donation process for both givers and NGOs.</p>
                <h3>How It Works</h3>
                 <div class="how-it-works-recap">
                    <ol>
                        <li>Choose Items to Donate</li>
                        <li>Select a Verified NGO Near You</li>
                        <li>Schedule a Pickup or Drop-off</li>
                        <li>Track Your Impact</li>
                    </ol>
                    <p>It‚Äôs that easy.</p>
                 </div>
                <h3>Our Values</h3>
                <ul class="values-list">
                    <li><strong>Transparency</strong> ‚Äì We ensure your donations reach where they‚Äôre needed.</li>
                     <li><strong>Empathy</strong> ‚Äì Every action we take is rooted in understanding and compassion.</li>
                     <li><strong>Accessibility</strong> ‚Äì Making it easy for everyone to give back, no matter where they are.</li>
                    <li><strong>Sustainability</strong> ‚Äì Giving a second life to your items reduces waste and helps the planet.</li>
                </ul>
                <h3>Founder & Co-Founder</h3>
                <div class="founders-grid">
                    <div class="founder-card">
                         <div class="founder-img"><span>Image</span></div>
                         <h4>Divyanshu Diwan</h4>
                         <span class="founder-title">Founder</span>
                         <p>A visionary with a passion for creating social impact, Divyanshu believes in building a platform where every unused item can find its purpose.</p>
                    </div>
                     <div class="founder-card">
                         <div class="founder-img"><span>Image</span></div>
                         <h4>Nidhi Jha</h4>
                         <span class="founder-title">Co-Founder</span>
                         <p>A driven and compassionate leader, Nidhi brings creativity and heart to GiveZRoori‚Äôs mission, ensuring that every donation reaches the right hands.</p>
                    </div>
                </div>
                 <h3>Join the Movement</h3>
                 <div class="join-movement">
                    <p>At GiveZRoori, we believe every small act of giving is a step towards a better society. Be a part of the change‚Äîbecause your giving is zaroori.</p>
                </div>
            </div>
        </section>


        <!-- How It Works Section (Detailed) -->
        <section id="how-it-works" class="main-content-section">
             <div class="container">
                <h2>How It Works in 3 Simple Steps</h2>
                <div class="steps-container">
                    <div class="step"><span class="step-number">1</span><h3>Choose Items to Donate</h3><p>Easily list clothes, books, furniture, or other items you no longer need.</p></div>
                    <div class="step"><span class="step-number">2</span><h3>Select NGO & Pickup</h3><p>Browse verified NGOs near you and choose a convenient pickup or drop-off option.</p></div>
                    <div class="step"><span class="step-number">3</span><h3>Track & See Your Impact</h3><p>Follow your donation's journey and see how your contribution makes a difference.</p></div>
                </div>
            </div>
        </section>

        <!-- Donate Now Page Section -->
        <section id="donate-page" class="donate-page-section main-content-section">
             <div class="container">
                <h2>Choose How You Want to Donate</h2>
                <div class="donate-options-container">
                    <div class="donate-option-card">
                        <div><div class="donate-option-icon">üí∞</div><h3>Donate Money</h3><p>Support NGOs financially with a one-time or recurring donation.</p></div>
                        <div><button class="btn btn-primary" onclick="showDonateMoneyForm()">Donate Money Now</button></div>
                        <div id="donate-money-form-container" class="donation-form-container" style="display: none; text-align: left;">
                            <h4>Enter Donation Details</h4>
                            <form id="money-donation-form">
                                <div class="form-group amount-options"><label>Select Amount (‚Çπ):</label><div class="radio-group"><label><input type="radio" name="amount" value="100"> 100</label><label><input type="radio" name="amount" value="500" checked> 500</label><label><input type="radio" name="amount" value="1000"> 1000</label><label><input type="radio" name="amount" value="custom"> Custom</label></div><input type="number" id="custom-amount" name="custom_amount" placeholder="Enter Custom Amount" style="display: none; margin-top: 10px; width: 100%; padding: 10px;"></div>
                                <div class="form-group"><label for="payment-method">Payment Method:</label><p style="font-size: 0.9em; color: var(--text-light);">UPI, Credit/Debit Card, Net Banking (Integration Required)</p><div style="margin-top:10px; padding:15px; background:#eee; border-radius:4px; text-align:center; color:#888;">[ Payment Gateway Placeholder ]</div></div>
                                <div class="form-group checkbox-group"><label><input type="checkbox" name="recurring"> Make this a monthly donation</label></div>
                                <div class="form-group checkbox-group"><label><input type="checkbox" name="anonymous"> Donate anonymously</label></div>
                                <button type="submit" class="btn btn-secondary" style="width: 100%;">Proceed to Payment</button><p style="font-size: 0.8em; margin-top: 15px; text-align: center;">Note: Payment Gateway integration needed.</p>
                            </form>
                        </div>
                    </div>
                    <div class="donate-option-card">
                         <div><div class="donate-option-icon">üéÅ</div><h3>Donate Items</h3><p>Give your pre-loved clothes, toys, books, and more a new life.</p></div>
                         <div><button class="btn btn-primary" onclick="showDonateItemsOptions()">Choose Items to Donate</button></div>
                        <div id="donate-items-options-container" class="item-category-container" style="display: none;">
                            <h4>What would you like to donate?</h4>
                            <div class="item-category-buttons"><button class="item-category-btn" data-form="donate-clothes-form"><span class="icon">üëö</span> Clothes</button><button class="item-category-btn" data-form="donate-toys-form"><span class="icon">üß∏</span> Toys</button><button class="item-category-btn" data-form="donate-books-form"><span class="icon">üìö</span> Books</button><button class="item-category-btn" data-form="donate-other-form"><span class="icon">üì¶</span> Other Items</button></div>
                        </div>
                    </div>
                </div>
                <div id="item-forms-wrapper">
                    <div id="donate-clothes-form" class="donation-form-container item-donation-form" style="display: none;"><h3>Donate Clothes</h3><form class="donation-form" data-item-type="Clothes"><div class="form-group"><label>Type:</label><div class="radio-group"><label><input type="radio" name="clothes_type" value="Men" checked> Men</label><label><input type="radio" name="clothes_type" value="Women"> Women</label><label><input type="radio" name="clothes_type" value="Kids"> Kids</label></div></div><div class="form-group"><label>Condition:</label><div class="radio-group"><label><input type="radio" name="clothes_condition" value="New"> New</label><label><input type="radio" name="clothes_condition" value="Gently Used" checked> Gently Used</label></div></div><div class="pickup-dropoff-section"></div><button type="submit" class="btn btn-primary" style="width: 100%;">Submit Clothes Donation</button></form></div>
                    <div id="donate-toys-form" class="donation-form-container item-donation-form" style="display: none;"><h3>Donate Toys</h3><form class="donation-form" data-item-type="Toys"><div class="form-group"><label>Type:</label><div class="radio-group"><label><input type="radio" name="toys_type" value="Educational" checked> Educational</label><label><input type="radio" name="toys_type" value="Soft Toys"> Soft Toys</label><label><input type="radio" name="toys_type" value="Others"> Others</label></div></div><div class="form-group"><label>Condition:</label><div class="radio-group"><label><input type="radio" name="toys_condition" value="New"> New</label><label><input type="radio" name="toys_condition" value="Gently Used" checked> Gently Used</label></div></div><div class="pickup-dropoff-section"></div><button type="submit" class="btn btn-primary" style="width: 100%;">Submit Toys Donation</button></form></div>
                    <div id="donate-books-form" class="donation-form-container item-donation-form" style="display: none;"><h3>Donate Books</h3><form class="donation-form" data-item-type="Books"><div class="form-group"><label>Type:</label><div class="radio-group"><label><input type="radio" name="books_type" value="School" checked> School Books</label><label><input type="radio" name="books_type" value="Novels"> Novels</label><label><input type="radio" name="books_type" value="Kids Story"> Kids Story Books</label><label><input type="radio" name="books_type" value="Others"> Others</label></div></div><div class="form-group"><label for="book_language">Language:</label><select id="book_language" name="book_language"><option value="" disabled selected>-- Select Language --</option><option value="English">English</option><option value="Hindi">Hindi</option><option value="Marathi">Marathi</option><option value="Tamil">Tamil</option><option value="Telugu">Telugu</option><option value="Bengali">Bengali</option><option value="Other">Other</option></select></div><div class="pickup-dropoff-section"></div><button type="submit" class="btn btn-primary" style="width: 100%;">Submit Books Donation</button></form></div>
                    <div id="donate-other-form" class="donation-form-container item-donation-form" style="display: none;"><h3>Donate Other Items</h3><form class="donation-form" data-item-type="Other Items"><p style="font-size: 0.9em; color: var(--text-light); margin-bottom: 15px;">Examples: Kitchen Utensils, Working Electronics, Furniture, Stationery etc.</p><div class="form-group"><label for="other_description">Item Description:</label><textarea id="other_description" name="other_description" rows="3" required placeholder="Briefly describe the item(s)"></textarea></div><div class="form-group"><label for="other_image">Upload Image (Optional):</label><input type="file" id="other_image" name="other_image" accept="image/*"></div><div class="pickup-dropoff-section"></div><button type="submit" class="btn btn-primary" style="width: 100%;">Submit Item Donation</button></form></div>
                </div>
                 <div id="confirmation-section" class="confirmation-message donation-form-container" style="display: none; margin-top: 40px; background-color: var(--light-bg); border-left: 5px solid var(--accent-green); text-align: center;"><h3>Thank You For Your Generosity!</h3><p>Your donation request has been received.</p><p>Your Reference ID: <strong id="reference-id">GZR-XXXXXX</strong></p><div style="margin-top: 20px;"><a href="#track-donation" class="btn btn-secondary btn-small">Track Your Donation</a><a href="#get-receipt" class="btn btn-secondary btn-small">Get Tax Receipt (if applicable)</a><a href="#share" class="btn btn-secondary btn-small">Share on Social Media</a></div></div>
            </div>
        </section>

        <!-- Featured NGOs Section -->
        <section id="featured-ngos" class="main-content-section">
            <div class="container">
                <h2>Featured NGO</h2>
                <div class="ngo-grid">
                    <div class="ngo-card">
                        <img src="jtt_logo.png" alt="Join Together Trust (JTT) Logo">
                        <div class="ngo-card-content">
                            <h3>Join Together Trust (JTT)</h3>
                            <span class="ngo-cause">Children's Education</span>
                            <p>At Join Together Trust (JTT), we believe that education is not just a privilege but a fundamental human right. Since 2016, our mission has been to bring quality education to the children of laborers, ragpickers, and slum dwellers‚Äîthose often left behind. Through our makeshift schools and community-driven initiatives, we reach where others don‚Äôt, ensuring every child has the opportunity to learn, grow, and realize their full potential.</p>
                            <a href="https://www.wejointogether.in" target="_blank" rel="noopener noreferrer" class="btn btn-primary btn-small">Learn More & Donate</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>


         <!-- Why GiveZRoori Section -->
        <section id="why-us" class="main-content-section">
            <div class="container">
                 <h2>Why Choose GiveZRoori?</h2>
                 <div class="features-grid">
                     <div class="feature-item"><div class="icon">‚úîÔ∏è</div><h3>Verified NGOs</h3><p>We partner only with thoroughly vetted and trusted non-profit organizations.</p></div>
                     <div class="feature-item"><div class="icon">üöö</div><h3>Free & Easy Pickup</h3><p>Schedule convenient pickups right from your doorstep, often free of charge.</p></div>
                      <div class="feature-item"><div class="icon">üìç</div><h3>Trackable Donations</h3><p>Know exactly where your items go and the impact they make.</p></div>
                       <div class="feature-item"><div class="icon">üíñ</div><h3>Make a Real Difference</h3><p>Your unused items get a second life helping those who need them most.</p></div>
                 </div>
             </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="main-content-section">
            <div class="container">
                <h2>What Our Users Say</h2>
                <div class="testimonial-grid">
                    <div class="testimonial-card"><blockquote>GiveZRoori made donating so simple! I loved being able to track my old books and see they reached a local school library.</blockquote><div class="testimonial-author"><img src="https://via.placeholder.com/50/cccccc/969696?text=User1" alt="Donor Avatar"><cite>Sarah K. - Happy Donor</cite></div></div>
                     <div class="testimonial-card"><blockquote>As an NGO, receiving targeted donations through GiveZRoori has been invaluable. We get exactly what we need, when we need it.</blockquote><div class="testimonial-author"><img src="https://via.placeholder.com/50/cccccc/969696?text=NGO" alt="NGO Avatar"><cite>Mr. Ahmed - Bright Futures NGO</cite></div></div>
                     <div class="testimonial-card"><blockquote>The pickup service was fantastic. Decluttering my house felt good, knowing the items were going to a good cause easily.</blockquote><div class="testimonial-author"><img src="https://via.placeholder.com/50/cccccc/969696?text=User2" alt="Donor Avatar"><cite>David L. - Repeat Donor</cite></div></div>
                </div>
            </div>
        </section>

         <!-- Contact Section Placeholder -->
         <section id="contact" class="main-content-section" style="text-align: center; background-color: var(--light-bg);">
              <div class="container">
                   <h2>Contact Us</h2>
                   <p>Have questions? Get in touch!</p>
                   <p><i>[Contact Form / Details Placeholder]</i></p>
                   <a href="mailto:info@givezroori.com" class="btn btn-primary">Email Us</a>
              </div>
         </section>

    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                 <div class="footer-section about"><h4>About GiveZRoori</h4><p>Connecting donors with NGOs...</p><div class="footer-socials"><a href="#" aria-label="Facebook">F</a><a href="#" aria-label="Twitter">T</a><a href="#" aria-label="Instagram">I</a></div></div>
                 <div class="footer-section links"><h4>Quick Links</h4><ul><li><a href="#about" class="about-us-link">About Us</a></li><li><a href="#how-it-works" class="homepage-link">How It Works</a></li><li><a href="#featured-ngos" class="homepage-link">Featured NGO</a></li><li><a href="#faq">FAQs</a></li><li><a href="#blog">Blog</a></li></ul></div>
                 <div class="footer-section links"><h4>Support</h4><ul><li><a href="#contact" class="contact-link">Contact Us</a></li><li><a href="#privacy">Privacy Policy</a></li><li><a href="#terms">Terms & Conditions</a></li><li><a href="#ngo-policy">NGO Policy</a></li></ul></div>
                 <div class="footer-section contact"><h4>Contact Info</h4><p>Email: info@givezroori.com</p><p>Phone: +123 456 7890</p><p>Location: Your City, Country</p></div>
            </div>
            <div class="footer-bottom">¬© 2024 GiveZRoori | All Rights Reserved</div>
        </div>
    </footer>

    <!-- Main JavaScript -->
    <script>
        // --- DOM References ---
        // Define variables in a broader scope
        let menuToggle, mainNav, allNavLinks, aboutUsLink, homepageLinks, aboutSection, mainContentSections, header, donateMoneyContainer, donateItemsContainer, itemFormsWrapper, allItemForms, itemCategoryButtons, confirmationSection, referenceIdElement, moneyForm;

        // Function to initialize references after DOM loads
        function initializeDOMReferences() {
             menuToggle = document.getElementById('menu-toggle');
             mainNav = document.getElementById('main-nav');
             allNavLinks = mainNav ? mainNav.querySelectorAll('a.nav-link') : [];
             aboutUsLink = mainNav ? mainNav.querySelector('a.about-us-link') : null;
             homepageLinks = mainNav ? mainNav.querySelectorAll('a.homepage-link') : [];
             aboutSection = document.getElementById('about');
             mainContentSections = document.querySelectorAll('.main-content-section');
             header = document.querySelector('.main-header');
             donateMoneyContainer = document.getElementById('donate-money-form-container');
             donateItemsContainer = document.getElementById('donate-items-options-container');
             itemFormsWrapper = document.getElementById('item-forms-wrapper');
             // Select the containers, not just the forms inside
             allItemForms = itemFormsWrapper ? itemFormsWrapper.querySelectorAll('.donation-form-container.item-donation-form') : [];
             itemCategoryButtons = donateItemsContainer ? donateItemsContainer.querySelectorAll('.item-category-btn') : [];
             confirmationSection = document.getElementById('confirmation-section');
             referenceIdElement = document.getElementById('reference-id');
             moneyForm = document.getElementById('money-donation-form');
             console.log("DOM References Initialized", { allItemForms, itemCategoryButtons }); // Debug log
        }


        // --- Mobile Menu Logic ---
        function setupMobileMenu() {
            if (menuToggle && mainNav) {
                menuToggle.addEventListener('click', () => {
                    mainNav.classList.toggle('active');
                });
            }
             if (allNavLinks) {
                 allNavLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        if (mainNav && mainNav.classList.contains('active')) {
                            mainNav.classList.remove('active');
                        }
                    });
                });
             }
        }

        // --- Page Switching Logic ---
        function showAboutPage() {
            if(mainContentSections) mainContentSections.forEach(section => section.style.display = 'none');
            if (aboutSection) aboutSection.style.display = 'block';
            updateActiveNav(aboutUsLink);
            window.scrollTo({ top: 0, behavior: 'smooth' });
            window.removeEventListener('scroll', handleScrollSpy);
        }

        function showHomepageLayout(targetSectionId = 'hero') {
            if (aboutSection) aboutSection.style.display = 'none';
            if(mainContentSections) mainContentSections.forEach(section => section.style.display = 'block');

            const targetLink = mainNav ? mainNav.querySelector(`a[href="#${targetSectionId}"]`) : null;
            updateActiveNav(targetLink);

            const targetElement = document.getElementById(targetSectionId);
            if (targetElement) {
                 const headerHeight = header ? header.offsetHeight : 70;
                 const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                 const offsetPosition = elementPosition - headerHeight - 20;
                window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
            } else {
                 window.scrollTo({ top: 0, behavior: 'smooth' });
            }
             window.addEventListener('scroll', handleScrollSpy, { passive: true });
             setTimeout(handleScrollSpy, 100);
        }

        function updateActiveNav(activeLink) {
             if (allNavLinks) {
                 allNavLinks.forEach(link => link.classList.remove('active'));
             }
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        // --- Event Listeners for Navigation ---
        function setupNavigationListeners() {
            if (aboutUsLink) {
                aboutUsLink.addEventListener('click', (event) => {
                    event.preventDefault();
                    showAboutPage();
                });
            }

            if (homepageLinks) {
                homepageLinks.forEach(link => {
                    link.addEventListener('click', (event) => {
                         const targetId = link.getAttribute('href')?.substring(1);
                         if (targetId) {
                            event.preventDefault(); // Always prevent default for smooth scroll handling
                            showHomepageLayout(targetId); // Let this function handle showing/hiding/scrolling
                         }
                    });
                });
            }

             const contactLink = mainNav ? mainNav.querySelector('a[href="#contact"]') : null;
             if (contactLink) {
                  contactLink.addEventListener('click', (event) => {
                       event.preventDefault();
                       showHomepageLayout('contact');
                  });
             }
        }


        // --- Scroll Spy Logic ---
        function handleScrollSpy() {
             if (aboutSection && aboutSection.style.display === 'block') return;
             if(!mainContentSections || !allNavLinks) return;

            let current = '';
            const headerHeight = header ? header.offsetHeight : 70;
            const scrollBuffer = window.innerHeight * 0.4;

            mainContentSections.forEach(section => {
                if (section.style.display !== 'none') {
                     const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                     if (pageYOffset >= (sectionTop - headerHeight - scrollBuffer) && pageYOffset < (sectionTop + sectionHeight - headerHeight - scrollBuffer)) {
                        current = section.getAttribute('id');
                     }
                 }
            });

             if (pageYOffset < 100) current = 'hero';
             else if (!current && pageYOffset < window.innerHeight * 0.6) {
                 const firstVisibleSection = document.querySelector('.main-content-section:not([style*="display: none"])');
                 if(firstVisibleSection && firstVisibleSection.id === 'hero') current = 'hero';
            }

             let foundActive = false;
             allNavLinks.forEach(a => {
                 a.classList.remove('active');
                 const linkHref = a.getAttribute('href');
                 if (linkHref && linkHref.startsWith('#') && linkHref.substring(1) === current) {
                     a.classList.add('active');
                     foundActive = true;
                 }
             });

              if (!foundActive && mainNav && (!aboutSection || aboutSection.style.display === 'none')) {
                   const homeLink = mainNav.querySelector('a[href="#hero"]');
                   if (homeLink) homeLink.classList.add('active');
              }
        }
        window.addEventListener('scroll', handleScrollSpy, { passive: true });

        // --- Donate Page Logic ---
        const pickupDropoffHTML = `<div class="pickup-dropoff-form"><h4>Pickup or Drop-off Details</h4><div class="form-group"><label>Choose Option:</label><div class="radio-group"><label><input type="radio" name="delivery_option" value="pickup" checked onchange="togglePickupFields(this)"> Request Pickup</label><label><input type="radio" name="delivery_option" value="dropoff" onchange="togglePickupFields(this)"> I will Drop-off</label></div></div><div class="pickup-fields"><div class="form-group"><label for="donor_name">Your Name:</label><input type="text" name="donor_name" required></div><div class="form-group"><label for="donor_address">Pickup Address:</label><textarea name="donor_address" rows="3" required></textarea></div><div class="form-group"><label for="donor_contact">Contact Number:</label><input type="tel" name="donor_contact" required pattern="[0-9]{10,}" title="Please enter a valid phone number (at least 10 digits)"></div><div class="form-group"><label for="pickup_date">Preferred Pickup Date:</label><input type="date" name="pickup_date" min="${new Date().toISOString().split('T')[0]}"></div><div class="form-group"><label for="pickup_time">Preferred Pickup Time:</label><select name="pickup_time"><option value="" disabled selected>-- Select Time Slot --</option><option value="Morning (9am-12pm)">Morning (9am-12pm)</option><option value="Afternoon (1pm-4pm)">Afternoon (1pm-4pm)</option><option value="Evening (4pm-7pm)">Evening (4pm-7pm)</option></select></div></div><div class="dropoff-info" style="display: none;"><p>Thank you! Please drop off items at our nearest partner center...</p><p><i>[Placeholder: List of drop-off zones...]</i></p></div></div>`;

         function injectPickupDropoffHTML() {
             const sections = document.querySelectorAll('.pickup-dropoff-section');
             if (sections) {
                sections.forEach(section => { section.innerHTML = pickupDropoffHTML; });
             }
         }

        function showDonateMoneyForm(){
             if(donateItemsContainer) donateItemsContainer.style.display = 'none';
             hideAllItemForms();
             if(confirmationSection) confirmationSection.style.display = 'none';
             if(donateMoneyContainer){
                 donateMoneyContainer.style.display = 'block';
                 const parentCard = donateMoneyContainer.closest(".donate-option-card");
                 if(parentCard) parentCard.style.display = "flex";
                 donateMoneyContainer.scrollIntoView({behavior: "smooth", block: "nearest"});

                 const amountRadios = donateMoneyContainer.querySelectorAll('input[name="amount"]');
                 const customAmountInput = donateMoneyContainer.querySelector('#custom-amount');
                 if (amountRadios.length > 0 && customAmountInput) {
                    amountRadios.forEach(radio => {
                        radio.onchange = () => {
                            const showCustom = radio.value === 'custom' && radio.checked;
                            customAmountInput.style.display = showCustom ? 'block' : 'none';
                            customAmountInput.required = showCustom;
                            if (showCustom) customAmountInput.focus();
                        };
                    });
                    const checkedRadio = donateMoneyContainer.querySelector('input[name="amount"]:checked');
                    checkedRadio?.dispatchEvent(new Event('change'));
                 }
             }
        }

        function showDonateItemsOptions(){
            if(donateMoneyContainer) donateMoneyContainer.style.display = 'none';
            hideAllItemForms();
            if(confirmationSection) confirmationSection.style.display = 'none';
            if(donateItemsContainer){
                donateItemsContainer.style.display = 'block';
                const parentCard = donateItemsContainer.closest(".donate-option-card");
                if(parentCard) parentCard.style.display = "flex";
                donateItemsContainer.scrollIntoView({behavior: "smooth", block: "nearest"});
            }
        }

        // Needs to be global for onchange handler
        function togglePickupFields(radioInput){
            const formContainer = radioInput.closest('.pickup-dropoff-form');
            if(!formContainer) return;
            const pickupFieldsDiv = formContainer.querySelector('.pickup-fields');
            const dropoffInfoDiv = formContainer.querySelector('.dropoff-info');

            if(radioInput.value === 'pickup' && radioInput.checked){
                if(pickupFieldsDiv) pickupFieldsDiv.style.display = 'block';
                if(dropoffInfoDiv) dropoffInfoDiv.style.display = 'none';
            } else if (radioInput.value === 'dropoff' && radioInput.checked){
                 if(pickupFieldsDiv) pickupFieldsDiv.style.display = 'none';
                if(dropoffInfoDiv) dropoffInfoDiv.style.display = 'block';
            }
        }


        function hideAllItemForms(){
            if (allItemForms && typeof allItemForms[Symbol.iterator] === 'function') {
                allItemForms.forEach(formContainer => { // Target the container now
                    if(formContainer) {
                        formContainer.style.display = 'none';
                    }
                });
            }
             if (itemCategoryButtons && typeof itemCategoryButtons[Symbol.iterator] === 'function') {
                itemCategoryButtons.forEach(btn => btn.classList.remove('active'));
             }
        }

        function setupDonateFormInteractions() {
            // Add listeners to category buttons
            if (itemCategoryButtons) {
                itemCategoryButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        console.log("Category button clicked:", button.dataset.form); // Debug
                        const formId = button.getAttribute('data-form');
                        hideAllItemForms();
                        if(confirmationSection) confirmationSection.style.display = 'none';

                        const targetFormContainer = document.getElementById(formId); // Get the container div
                        if(targetFormContainer){
                            console.log("Showing form container:", formId); // Debug
                            targetFormContainer.style.display = 'block'; // Show the container
                            button.classList.add('active');

                            const pickupRadio = targetFormContainer.querySelector('input[name="delivery_option"][value="pickup"]');
                            if(pickupRadio) {
                                 pickupRadio.checked = true;
                                 // Ensure togglePickupFields is called AFTER the HTML is injected and element exists
                                 // Use a small timeout if needed, though usually direct call is fine if HTML is static or injected early
                                 setTimeout(() => togglePickupFields(pickupRadio), 0);
                            } else {
                                console.warn("Pickup radio not found in", formId); // Debug
                            }
                            targetFormContainer.scrollIntoView({behavior: 'smooth', block: 'start'});
                        } else {
                             console.error("Target form container not found:", formId); // Debug
                        }
                    });
                });
            }

             // --- Setup Simulation Form Submission Listeners ---

            // ** ITEM DONATION FORM SIMULATION **
            const itemDonationForms = document.querySelectorAll('.donation-form[data-item-type]');
            if (itemDonationForms) {
                itemDonationForms.forEach(form => {
                    const formContainer = form.closest('.item-donation-form'); // Get the container
                    form.addEventListener('submit', (event) => { // No async needed
                        event.preventDefault();

                        form.querySelectorAll('[style*="border: 1px solid red"]').forEach(el => el.style.border = "");
                        form.querySelectorAll('.radio-group[style*="border"], .checkbox-group[style*="border"]').forEach(el => el.style.border = "");

                        // --- Validation ---
                        const deliveryOption = form.querySelector('input[name="delivery_option"]:checked');
                        let isValid = true;
                        const requiredFields = form.querySelectorAll("[required]");

                        requiredFields.forEach(field => {
                            const pickupFieldsDiv = field.closest('.pickup-fields');
                            const isPickupField = pickupFieldsDiv !== null;
                            const pickupSelected = deliveryOption && deliveryOption.value === 'pickup';
                            let isActuallyRequired = true; // Assume required initially
                             // Find the original element in the static HTML to check its required attribute
                             const originalField = formContainer?.querySelector(`[name="${field.name}"]`); // Find by name within this form container
                             if (!originalField || !originalField.hasAttribute('required')) {
                                 isActuallyRequired = false; // It wasn't required in the first place
                             }
                             if (isPickupField && !pickupSelected) {
                                isActuallyRequired = false; // Override: Not required if dropoff selected for pickup field
                            }

                            if (isActuallyRequired) {
                                let fieldHasValue = false;
                                if(field.type === 'radio' || field.type === 'checkbox') {
                                     const groupName = field.name;
                                     if(groupName && form.querySelector(`input[name="${groupName}"]:checked`)) { fieldHasValue = true; }
                                     else if (field.type === 'checkbox' && field.checked) { fieldHasValue = true; }
                                } else { fieldHasValue = field.value.trim() !== ''; }

                                if (!fieldHasValue) {
                                     if(field.offsetParent !== null) {
                                        console.error(`Field "${field.name || field.id}" is required.`);
                                        field.style.border = '1px solid red';
                                        const group = field.closest('.radio-group, .checkbox-group');
                                        if (group && !group.style.border) { group.style.border = '1px solid red'; }
                                        isValid = false;
                                    }
                                }
                            }
                             // Clear error styles if not actually required or if it has a value
                             if (!isActuallyRequired || (isActuallyRequired && (field.value?.trim() || form.querySelector(`input[name="${field.name}"]:checked`)))) {
                                field.style.border = "";
                                const group = field.closest('.radio-group, .checkbox-group');
                                if (group) group.style.border = "";
                            }
                        });

                        if (!isValid) {
                            alert("Please fill in all required fields (marked in red).");
                            const firstError = form.querySelector('[style*="border: 1px solid red"]');
                            if (firstError) { firstError.focus(); firstError.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
                            return;
                        }
                        // --- End Validation ---

                        // ** Simulate Submission **
                        const itemType = form.dataset.itemType;
                        const submitButton = form.querySelector('button[type="submit"]');
                        console.log(`Simulating submission for: ${itemType}`);
                        console.log("Form Data:", Object.fromEntries(new FormData(form).entries()));
                        if(submitButton) submitButton.disabled = true; submitButton.textContent = 'Submitting...';

                         // Simulate delay
                         setTimeout(() => {
                             const referenceId = 'GZR-' + Math.random().toString(36).substring(2, 8).toUpperCase();
                            if (referenceIdElement) referenceIdElement.textContent = referenceId;

                            if(formContainer) formContainer.style.display = 'none'; // Hide the container
                            hideAllItemForms(); // Hide others as well

                            if (confirmationSection) {
                                confirmationSection.style.display = 'block';
                                confirmationSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                             form.reset(); // Reset form fields
                             // Reset pickup/dropoff view
                             const defaultPickupRadio = form.querySelector('input[name="delivery_option"][value="pickup"]');
                            if (defaultPickupRadio) { defaultPickupRadio.checked = true; togglePickupFields(defaultPickupRadio); }
                            // Re-enable button
                             if(submitButton) { submitButton.disabled = false; submitButton.textContent = `Submit ${itemType} Donation`; }
                         }, 1000); // 1 second delay simulation

                    });
                });
            }

            // ** MONEY DONATION FORM SIMULATION **
            if (moneyForm) {
                moneyForm.addEventListener('submit', (event) => { // No async needed
                    event.preventDefault();
                    moneyForm.querySelectorAll('[style*="border: 1px solid red"]').forEach(el => el.style.border = "");
                    moneyForm.querySelectorAll('.radio-group[style*="border"], .checkbox-group[style*="border"]').forEach(el => el.style.border = "");

                    // --- Validation ---
                     const customAmountInput = moneyForm.querySelector('#custom-amount');
                    const selectedAmountRadio = moneyForm.querySelector('input[name="amount"]:checked');
                    let isValid = true; let amountValue = null;
                    if (selectedAmountRadio && selectedAmountRadio.value === 'custom') {
                        if (!customAmountInput || !customAmountInput.value || parseFloat(customAmountInput.value) <= 0) {
                            alert('Please enter a valid positive custom amount.');
                            if (customAmountInput) { customAmountInput.style.border = '1px solid red'; customAmountInput.focus(); } isValid = false;
                        } else { if (customAmountInput) customAmountInput.style.border = ""; }
                    } else if (!selectedAmountRadio) {
                        alert('Please select or enter a donation amount.');
                        const amountGroup = moneyForm.querySelector('.amount-options .radio-group');
                        if (amountGroup) amountGroup.style.border = '1px solid red'; isValid = false;
                    }
                     const amountGroupVisual = moneyForm.querySelector('.amount-options .radio-group');
                     if(amountGroupVisual) amountGroupVisual.style.border = "";
                     if (!isValid) return;
                    // --- End Validation ---

                     // ** Simulate Submission & Payment **
                     console.log("Simulating Proceed to Payment...");
                     console.log("Money Form Data:", Object.fromEntries(new FormData(moneyForm).entries()));
                     const submitButton = moneyForm.querySelector('button[type="submit"]');
                     if(submitButton) submitButton.disabled = true; submitButton.textContent = 'Processing...';

                     // Simulate delay
                     setTimeout(() => {
                         alert("Thank You! Proceeding to Payment (Simulation - Integration Required)");
                         const referenceId = 'GZR-M' + Math.random().toString(36).substring(2, 7).toUpperCase();
                         if (referenceIdElement) referenceIdElement.textContent = referenceId; // Show ref ID in confirmation

                         if(moneyForm.parentElement) moneyForm.parentElement.style.display = 'none'; // Hide money form container
                         hideAllItemForms(); // Hide item forms too

                         if (confirmationSection) {
                             confirmationSection.style.display = 'block';
                             confirmationSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                         }
                         moneyForm.reset();
                         const customAmountInputReset = moneyForm.querySelector('#custom-amount');
                         if (customAmountInputReset) { customAmountInputReset.style.display = 'none'; customAmountInputReset.style.border = ""; }
                         const defaultMoneyRadio = moneyForm.querySelector('input[name="amount"][value="500"]');
                         if(defaultMoneyRadio) defaultMoneyRadio.checked = true;

                         // Re-enable button
                         if(submitButton) { submitButton.disabled = false; submitButton.textContent = 'Proceed to Payment'; }
                     }, 1500); // 1.5 second delay simulation
                });
            }
        }

        // --- Run Initialization after DOM is loaded ---
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOM Loaded"); // Debug log
            initializeDOMReferences(); // Get references to elements first
            setupMobileMenu();
            setupNavigationListeners();
            injectPickupDropoffHTML(); // Inject HTML needed by forms
            setupDonateFormInteractions(); // Setup button clicks and form submissions
            handleScrollSpy(); // Initial scroll spy check
        });

    </script>

</body>
</html>
